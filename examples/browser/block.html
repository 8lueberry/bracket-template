<!doctype html>
<html lang="en">
  <head>
    <title>Blocks</title>
    <style type="text/css">
      .rendered {
        border:dashed 1px #000;
        padding: 10px;
        background-color: #eee;
        margin-top: 10px;
      }
    </style>
  </head>
  <body>
    <h1>How to use blocks</h1>
    <div>
      The data in the dashed box is generated by bracket.
    </div>

    <div id="tmpl-1-container" class="rendered"></div>

    <script src="../../dist/bracket.min.js"></script>

    <!--
    ///////////////////////////////////////////////////////////////////////////
    // This is the template html
    ///////////////////////////////////////////////////////////////////////////
    -->
    <script id="tmpl-1" type="text/html">
      Call the blocks
      <ul>
        <li>[[# block1('arg1') ]]</li>
        <li>[[# block2('arg2') ]]</li>
      </ul>

      [[## block1(arg)
        Hello from section1 ([[= arg ]])
      #]]

      [[## block2(arg)
        Hello from section2 ([[= arg ]])
      #]]
    </script>

    <!--
    ///////////////////////////////////////////////////////////////////////////
    // This is the bootstrap code
    ///////////////////////////////////////////////////////////////////////////
    -->
    <script>
      // build the template method. Cache this method for reuse.
      var template = bracket.compile(
        document.getElementById('tmpl-1').innerHTML
      );

      // call template method and inject result to tmpl-1-container
      document.getElementById('tmpl-1-container')
        .innerHTML = template();
    </script>

  </body>
</html>
